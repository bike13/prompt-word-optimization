<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>前端功能测试</title>
</head>
<body>
    <h1>前端功能测试</h1>
    
    <h2>测试内容截取功能</h2>
    <div id="testContent">
        <p>原文内容: <span id="originalText"></span></p>
        <p>译文内容: <span id="translatedText"></span></p>
        <p>摘要内容: <span id="summaryText"></span></p>
    </div>
    
    <h2>测试下载功能</h2>
    <button onclick="testDownload()">测试下载功能</button>
    
    <script>
        // 测试内容截取
        const longText = "这是一个很长的文本内容，用来测试前200字截取功能。".repeat(20);
        const originalText = document.getElementById('originalText');
        const translatedText = document.getElementById('translatedText');
        
        // 截取前200字
        const truncatedOriginal = longText.length > 200 ? 
            longText.substring(0, 200) + '...' : longText;
        const truncatedTranslated = longText.length > 200 ? 
            longText.substring(0, 200) + '...' : longText;
            
        originalText.textContent = truncatedOriginal;
        translatedText.textContent = truncatedTranslated;
        
        // 摘要显示全部
        document.getElementById('summaryText').textContent = longText;
        
        // 测试下载功能
        function testDownload() {
            const testContent = "这是测试下载的内容";
            const blob = new Blob([testContent], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = 'test.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('下载测试完成！');
        }
    </script>
</body>
</html>
